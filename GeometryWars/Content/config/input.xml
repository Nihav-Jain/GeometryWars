<world name="Steven's Universe">
	<action class="ActionList" name="InputManager">
		<!-- InputHandlers is a list that will hold all types of Input Handlers.							-->
		<!-- Every InputHandler will have the following characteristics:									-->
		<!--	ButtonMapping:	HashMap (hence Scope) mapping the Event's Subtype with the button events	-->
		<!--																								-->
		<!-- There are two handlers to be planned...														-->
		
		<!-- KeyBoardHandler: Handles Keyboard Events -->
		<action name="InputHandlers" class="KeyBoardHandler">
			<scope name="ButtonMapping">	<!-- Done using KeyCodes to map to the respective buttons -->
				<string name="MoveLeft"		value="8"/>		<!-- Keycode Left Arrow	-->
				<string name="MoveRight"	value="9"/>		<!-- Keycode Right Arrow-->
				<string name="MoveUp"		value="10"/>	<!-- Keycode Up Arrow	-->
				<string name="MoveDown"		value="11"/>	<!-- Keycode Up Arrow	-->
				<string name="MoveLeft"		value="32"/>	<!-- Keycode A			-->
				<string name="MoveRight"	value="34"/>	<!-- Keycode D			-->
				<string name="MoveUp"		value="21"/>	<!-- KeyCode W			-->
				<string name="MoveDown"		value="33"/>	<!-- Keycode S			-->
			</scope>
		</action>
		
		<!-- XBoxControllerHandlerHandler: Handles XBox Controller Events -->
		<action name="InputHandlers" class="XBoxControllerHandler">
			<scope name="ButtonMapping">	<!-- Done using the enumerated name (as given by XInput) for the XBox Controller buttons -->
				<string name="MoveLeft"		value="X"/>
				<string name="MoveRight"	value="Y"/>
				<string name="MoveUp"		value="A"/>
				<string name="MoveDown"		value="B"/>
				<string name="Start"		value="START"/>
				<string name="Select"		value="SELECT"/>
				<string name="o _o"			value="DPAD_UP"/>
				<string name="o_ o"			value="DPAD_DOWN"/>
				<string name="o. o"			value="DPAD_LEFT"/>
				<string name="o_ o"			value="DPAD_RIGHT"/>
				<string name="o__o"			value="LEFT_THUMB"/>
				<string name="x . x"		value="RIGHT_THUMB"/>
				<string name="ERROR"		value="LEFT_SHOULDER"/>		<!-- Shoulder's as button is debateable -->
				<string name="404"			value="RIGHT_SHOULDER"/>
			</scope>
		</action>
	</action>
	
	<sector name="Sector">
		<entity class="Entity" name="Character">
			<!-- Member Variables -->
			<integer name="PosX"		value="0"/>
			<integer name="PosY"		value="0"/>
			<integer name="Speed"		value="10"/>
			
			<!-- Left Analog Update
			<action class="InputManagerAccessor" name="GetLeftAnalog">
				<string name="Handler" value="KeyBoardHandler" />
				
				<expression name="modify">
					<string name="expression">PosX = PosX + (LeftAnalog_X / 255)</string>
				</expression>
				<expression name="modify">
					<string name="expression">PosY = PosY + (LeftAnalog_Y / 255)</string>
				</expression>
			</action> -->
			
			<action class="ActionDebug" name="Debug">
				<!--<string name="message">Hello World!</string>-->
			
				<expression name="modify">
					<string name="expression">message = {"Hello World Again!"}</string>
				</expression>
			</action>
			<!-- Event-Driven Button Callbacks -->
			<reaction class="ReactionAttributed" name="OnMoveLeft">
				<string name="subtype" value="MoveLeft"/>
				
				<action class="ActionDebug" name="Debug">
					<string name="message">Hello!</string>
				</action>
				<expression name="modify">
					<string name="expression">PosX = PosX - Speed</string>
				</expression>
			</reaction>
			
			<reaction class="ReactionAttributed" name="OnMoveRight">
				<string name="subtype" value="MoveLeft"/>
				
				<expression name="modify">
					<string name="expression">PosX = PosX + Speed</string>
				</expression>
			</reaction>
			
			
			<reaction class="ReactionAttributed" name="OnMoveUp">
				<string name="subtype" value="MoveUp"/>
				
				<expression name="modify">
					<string name="expression">PosY = PosY - Speed</string>
				</expression>
			</reaction>
			
			<reaction class="ReactionAttributed" name="OnMoveDown">
				<string name="subtype" value="MoveDown"/>
				
				<expression name="modify">
					<string name="expression">PosY = PosY + Speed</string>
				</expression>
			</reaction>
			
			
		</entity>
	</sector>
</world>
